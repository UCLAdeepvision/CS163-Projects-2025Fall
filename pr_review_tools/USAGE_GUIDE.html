<!DOCTYPE html>
<html lang="en">

  <head>
    
      






    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PR Review Tools - å®Œæ•´ä½¿ç”¨æŒ‡å—</title>

    <meta name="description" content="Course projects for UCLA CS163, Deep Learning in Compuver Vision">

    <meta content="2025F, UCLA CS163 Course Projects" property="og:site_name">
    
        <meta content="PR Review Tools - å®Œæ•´ä½¿ç”¨æŒ‡å—" property="og:title">
    
    
        <meta content="article" property="og:type">
    
    
        <meta content="Course projects for UCLA CS163, Deep Learning in Compuver Vision" property="og:description">
    
    
        <meta content="/pr_review_tools/USAGE_GUIDE.html" property="og:url">
    
<!--
     -->

    <!-- 
    
     -->

    <link rel="shortcut icon" href="/CS163-Projects-2025Fall/assets/ucla_ico.jpg">
    <link rel="stylesheet" href="/CS163-Projects-2025Fall/assets/css/main.css">
    <link rel="canonical" href="/CS163-Projects-2025Fall/pr_review_tools/USAGE_GUIDE.html">

    <!-- For Latex -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

    <!-- Google Analytics -->
    <!-- <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-8161570-6', 'auto');
        ga('send', 'pageview');
    </script> -->

    <!-- For Facebook share button -->
    <!-- <div id="fb-root"></div>
    <script>
      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script> -->

    <!-- Twitter cards -->
    <!-- <meta name="twitter:site"    content="@">
    <meta name="twitter:creator" content="@UCLAdeepvision">
    <meta name="twitter:title"   content="PR Review Tools - å®Œæ•´ä½¿ç”¨æŒ‡å—">

    
        <meta name="twitter:description" content="Course projects for UCLA CS163, Deep Learning in Compuver Vision">
    

    
        <meta name="twitter:card"  content="summary">
        <meta name="twitter:image" content="">
     -->
    <!-- end of Twitter cards -->

</head>


  <body>

    <header class="site-header" role="banner" id='header-bar'>

    <div class="wrapper">
        
        <a class="site-title" style="color:#F2A900" href="/CS163-Projects-2025Fall/">2025F, UCLA CS163 Course Projects  </a>

        <!-- <nav class="site-nav">
            <a class="page-link" href="http://lilianweng.github.io" target="_blank">&#x1f349; About</a>
        </nav> -->
        <nav class="site-nav">
            <a class="page-link" style="color:#F2A900" href="/CS163-Projects-2025Fall/about.html"> About</a>
        </nav>

        <nav class="site-nav">
            <a class="page-link" style="color:#F2A900" href="/CS163-Projects-2025Fall/archive.html"> Archive</a>
        </nav>


        <!-- <nav class="site-nav">
            <a class="page-link" style="color:#FFD100" href="/CS163-Projects-2025Fall/FAQ.html"> FAQ</a>
        </nav> -->
        <!-- <nav class="site-nav">
            <a class="page-link" href="/CS163-Projects-2025Fall/log.html">&#x231b; Log</a>
        </nav> -->


    </div>

</header>


    <!-- Back to top button -->
    <script src="/CS163-Projects-2025Fall/assets/vanilla-back-to-top.min.js"></script>
    <script>addBackToTop()</script>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h1 id="pr-review-tools---å®Œæ•´ä½¿ç”¨æŒ‡å—">PR Review Tools - å®Œæ•´ä½¿ç”¨æŒ‡å—</h1>

<h2 id="-ç›®å½•">ğŸ“– ç›®å½•</h2>

<ol>
  <li><a href="#ç³»ç»Ÿæ¶æ„">ç³»ç»Ÿæ¶æ„</a></li>
  <li><a href="#å®Œæ•´å·¥ä½œæµ">å®Œæ•´å·¥ä½œæµ</a></li>
  <li><a href="#åŠŸèƒ½è¯¦è§£">åŠŸèƒ½è¯¦è§£</a></li>
  <li><a href="#apiæ¥å£">APIæ¥å£</a></li>
  <li><a href="#gitæ“ä½œ">Gitæ“ä½œ</a></li>
  <li><a href="#dockerç®¡ç†">Dockerç®¡ç†</a></li>
  <li><a href="#æ•…éšœæ’é™¤">æ•…éšœæ’é™¤</a></li>
</ol>

<h2 id="ï¸-ç³»ç»Ÿæ¶æ„">ğŸ—ï¸ ç³»ç»Ÿæ¶æ„</h2>

<h3 id="ç»„ä»¶">ç»„ä»¶</h3>
<ul>
  <li><strong>FlaskæœåŠ¡å™¨</strong>ï¼šæä¾›Webç•Œé¢å’ŒAPI</li>
  <li><strong>Gité›†æˆ</strong>ï¼šç®¡ç†åˆ†æ”¯ã€åˆå¹¶ã€å†²çªæ£€æµ‹</li>
  <li><strong>Docker</strong>ï¼šé¢„è§ˆJekyllç½‘ç«™</li>
  <li><strong>GitHub API</strong>ï¼šè·å–PRã€å‘å¸ƒè¯„è®º</li>
</ul>

<h3 id="æ•°æ®æµ">æ•°æ®æµ</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GitHub â†’ Flaskåç«¯ â†’ Gitæ“ä½œ â†’ Dockeré¢„è§ˆ â†’ ç”¨æˆ·å®¡æŸ¥ â†’ åˆå¹¶ â†’ GitHubè¯„è®º
</code></pre></div></div>

<h2 id="-å®Œæ•´å·¥ä½œæµ">ğŸ”„ å®Œæ•´å·¥ä½œæµ</h2>

<h3 id="phase-1-å¯åŠ¨">Phase 1: å¯åŠ¨</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>pr_review_tools
./start.sh
</code></pre></div></div>

<p><strong>ç³»ç»Ÿåˆå§‹åŒ–</strong>ï¼š</p>
<ul>
  <li>æ£€æŸ¥Flaskå®‰è£…</li>
  <li>æ£€æŸ¥DockerçŠ¶æ€</li>
  <li>åŠ è½½PRåˆ—è¡¨</li>
  <li>å¯åŠ¨WebæœåŠ¡å™¨ï¼ˆ5001ç«¯å£ï¼‰</li>
</ul>

<h3 id="phase-2-é€‰æ‹©pr">Phase 2: é€‰æ‹©PR</h3>

<p><strong>ç”¨æˆ·æ“ä½œ</strong>ï¼šç‚¹å‡»å·¦ä¾§PRåˆ—è¡¨ä¸­çš„PR</p>

<p><strong>ç³»ç»Ÿå“åº”</strong>ï¼š</p>
<ol>
  <li>è®°å½•å½“å‰åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯mainï¼‰</li>
  <li>åˆ›å»ºä¸´æ—¶åˆ†æ”¯ï¼š<code class="language-plaintext highlighter-rouge">review-pr-{number}</code></li>
  <li>åˆ‡æ¢åˆ°ä¸´æ—¶åˆ†æ”¯</li>
  <li>Fetchè¿œç¨‹ä»“åº“æœ€æ–°çŠ¶æ€</li>
  <li>åˆå¹¶mainåˆ†æ”¯</li>
  <li>åˆå¹¶PRåˆ†æ”¯</li>
  <li>æ£€æŸ¥åˆå¹¶å†²çª</li>
  <li>è¿‡æ»¤æ–‡ä»¶ï¼ˆåªä¿ç•™assets/å’Œ_posts/ï¼‰</li>
  <li>å¯åŠ¨Dockeré¢„è§ˆ</li>
</ol>

<p><strong>çŠ¶æ€è½¬æ¢</strong>ï¼š</p>
<ul>
  <li>idle â†’ preparing â†’ starting_docker â†’ docker_ready</li>
</ul>

<h3 id="phase-3-å®¡æŸ¥">Phase 3: å®¡æŸ¥</h3>

<p><strong>é¢„è§ˆå†…å®¹</strong>ï¼š</p>
<ul>
  <li>ç‚¹å‡»â€æ‰“å¼€é¢„è§ˆç½‘ç«™â€</li>
  <li>åœ¨ <code class="language-plaintext highlighter-rouge">http://localhost:4000/CS163-Projects-2025Fall/</code> æŸ¥çœ‹æ•ˆæœ</li>
  <li>æ£€æŸ¥æ–‡ç« å†…å®¹ã€å›¾ç‰‡ã€æ ¼å¼ç­‰</li>
</ul>

<p><strong>æ–‡ä»¶åˆ†ç±»</strong>ï¼š</p>
<ul>
  <li>âœ… <strong>Accepted Files</strong>ï¼š<code class="language-plaintext highlighter-rouge">assets/</code>ã€<code class="language-plaintext highlighter-rouge">_posts/</code>ä¸‹çš„ä¿®æ”¹</li>
  <li>âŒ <strong>Rejected Files</strong>ï¼šå…¶ä»–ç›®å½•çš„ä¿®æ”¹</li>
</ul>

<h3 id="phase-4-ç¼–è¾‘å¯é€‰">Phase 4: ç¼–è¾‘ï¼ˆå¯é€‰ï¼‰</h3>

<p><strong>å¯åŠ¨ç¼–è¾‘æ¨¡å¼</strong>ï¼š</p>
<ol>
  <li>ç‚¹å‡» <strong>Start Edit</strong> æŒ‰é’®</li>
  <li>ç³»ç»Ÿæ˜¾ç¤ºå¯ç¼–è¾‘æ–‡ä»¶åˆ—è¡¨</li>
  <li>ä½¿ç”¨ç¼–è¾‘å™¨ï¼ˆVS Codeç­‰ï¼‰ç¼–è¾‘æ–‡ä»¶</li>
</ol>

<p><strong>æ”¯æŒçš„æ“ä½œ</strong>ï¼š</p>
<ul>
  <li>ä¿®æ”¹ <code class="language-plaintext highlighter-rouge">_posts/</code> ä¸‹çš„Markdownæ–‡ä»¶</li>
  <li>æ·»åŠ /æ›¿æ¢ <code class="language-plaintext highlighter-rouge">assets/images/</code> ä¸‹çš„å›¾ç‰‡</li>
  <li>ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€æ ¼å¼ç­‰</li>
</ul>

<p><strong>å®Œæˆç¼–è¾‘</strong>ï¼š</p>
<ol>
  <li>ç‚¹å‡» <strong>Finish Edit</strong> æŒ‰é’®</li>
  <li>ç³»ç»Ÿæ£€æµ‹ä¿®æ”¹ï¼š<code class="language-plaintext highlighter-rouge">git status --porcelain</code></li>
  <li>æ˜¾ç¤ºä¿®æ”¹çš„æ–‡ä»¶åˆ—è¡¨</li>
  <li>è®°å½•åˆ° <code class="language-plaintext highlighter-rouge">edited_files</code> çŠ¶æ€</li>
</ol>

<h3 id="phase-5-å†³ç­–">Phase 5: å†³ç­–</h3>

<h4 id="é€‰é¡¹aæ¥å—å¹¶åˆå¹¶">é€‰é¡¹Aï¼šæ¥å—å¹¶åˆå¹¶</h4>

<p><strong>ç”¨æˆ·æ“ä½œ</strong>ï¼š</p>
<ol>
  <li>ï¼ˆå¯é€‰ï¼‰å¡«å†™Additional Comment</li>
  <li>ç‚¹å‡» <strong>æ¥å—å¹¶åˆå¹¶ï¼ˆæœ¬åœ°ï¼‰</strong> æŒ‰é’®</li>
  <li>ç¡®è®¤å¯¹è¯æ¡†</li>
</ol>

<p><strong>ç³»ç»Ÿæ“ä½œ</strong>ï¼š</p>
<ol>
  <li>è¿‡æ»¤å¹¶æ·»åŠ æ–‡ä»¶ï¼š
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add assets/
git add _posts/
</code></pre></div>    </div>
  </li>
  <li>æäº¤æ›´æ”¹ï¼š
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit <span class="nt">-m</span> <span class="s2">"Filtered changes from PR #X"</span>
</code></pre></div>    </div>
  </li>
  <li>åœæ­¢Dockerå®¹å™¨</li>
  <li>åˆ‡æ¢å›mainåˆ†æ”¯</li>
  <li>åˆå¹¶ä¸´æ—¶åˆ†æ”¯ï¼ˆfast-forwardï¼‰ï¼š
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git merge review-pr-X <span class="nt">--ff-only</span>
</code></pre></div>    </div>
  </li>
  <li>åˆ é™¤ä¸´æ—¶åˆ†æ”¯</li>
  <li>ç”Ÿæˆå¹¶å‘å¸ƒGitHubè¯„è®º</li>
</ol>

<p><strong>GitHubè¯„è®ºæ ¼å¼</strong>ï¼š</p>
<div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gu">## ğŸ¤– Automated Review Report</span>

<span class="gu">### âœ… Accepted Files (X)</span>
<span class="p">-</span> <span class="sb">`_posts/article.md`</span>
<span class="p">-</span> <span class="sb">`assets/images/pic.png`</span>

<span class="gu">### âŒ Rejected Files (Y)</span>
<span class="p">-</span> <span class="sb">`Gemfile.lock`</span>
<span class="p">-</span> <span class="sb">`_site/index.html`</span>

<span class="gu">### âœï¸ Edited Files (Z)</span>
<span class="p">-</span> <span class="sb">`_posts/article.md`</span>

<span class="gu">## ğŸ’¡ Additional Comments</span>
{ç”¨æˆ·çš„è‡ªå®šä¹‰è¯„è®º}
</code></pre></div></div>

<h4 id="é€‰é¡¹bè·³è¿‡">é€‰é¡¹Bï¼šè·³è¿‡</h4>

<p><strong>ç³»ç»Ÿæ“ä½œ</strong>ï¼š</p>
<ol>
  <li>é‡ç½®ä¸´æ—¶åˆ†æ”¯ï¼š<code class="language-plaintext highlighter-rouge">git reset --hard</code></li>
  <li>åœæ­¢Dockerå®¹å™¨</li>
  <li>åˆ‡æ¢å›mainåˆ†æ”¯</li>
  <li>åˆ é™¤ä¸´æ—¶åˆ†æ”¯</li>
  <li>ä¸å‘å¸ƒGitHubè¯„è®º</li>
</ol>

<h3 id="phase-6-pushæ‰‹åŠ¨">Phase 6: Pushï¼ˆæ‰‹åŠ¨ï¼‰</h3>

<p><strong>é‡è¦</strong>ï¼šç³»ç»Ÿä¸ä¼šè‡ªåŠ¨pushåˆ°è¿œç¨‹ï¼</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ£€æŸ¥æœ¬åœ°çŠ¶æ€</span>
git log <span class="nt">--oneline</span> <span class="nt">-5</span>

<span class="c"># ç¡®è®¤æ— è¯¯åpush</span>
git push origin main
</code></pre></div></div>

<h2 id="ï¸-åŠŸèƒ½è¯¦è§£">âš™ï¸ åŠŸèƒ½è¯¦è§£</h2>

<h3 id="æ–‡ä»¶è¿‡æ»¤">æ–‡ä»¶è¿‡æ»¤</h3>

<p><strong>ç™½åå•ç›®å½•</strong>ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ALLOWED_DIRS</span> <span class="o">=</span> <span class="p">[</span><span class="s">'assets/'</span><span class="p">,</span> <span class="s">'_posts/'</span><span class="p">]</span>
</code></pre></div></div>

<p><strong>è¿‡æ»¤é€»è¾‘</strong>ï¼š</p>
<ol>
  <li>è·å–PRçš„æ‰€æœ‰æ”¹åŠ¨ï¼š<code class="language-plaintext highlighter-rouge">git diff --name-only</code></li>
  <li>åˆ†ç±»æ–‡ä»¶ï¼š
    <ul>
      <li>ä»¥ <code class="language-plaintext highlighter-rouge">assets/</code> æˆ– <code class="language-plaintext highlighter-rouge">_posts/</code> å¼€å¤´ â†’ accepted</li>
      <li>å…¶ä»– â†’ rejected</li>
    </ul>
  </li>
  <li>åªæ·»åŠ accepted filesåˆ°æš‚å­˜åŒº</li>
</ol>

<p><strong>ç‰¹æ®Šå¤„ç†</strong>ï¼š</p>
<ul>
  <li>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡ï¼‰æ­£å¸¸å¤„ç†</li>
  <li>æ–°å»ºæ–‡ä»¶å’Œä¿®æ”¹æ–‡ä»¶ç»Ÿä¸€å¤„ç†</li>
  <li>åˆ é™¤æ–‡ä»¶ä¼šè¢«å¿½ç•¥ï¼ˆä¸æ”¯æŒï¼‰</li>
</ul>

<h3 id="edit-mode">Edit Mode</h3>

<p><strong>å®ç°åŸç†</strong>ï¼š</p>
<ol>
  <li>ç”¨æˆ·è§¦å‘ <strong>Start Edit</strong></li>
  <li>ç³»ç»Ÿè®°å½•åˆå§‹çŠ¶æ€ï¼š<code class="language-plaintext highlighter-rouge">git_initial_state = git status</code></li>
  <li>ç”¨æˆ·åœ¨å¤–éƒ¨ç¼–è¾‘å™¨ä¿®æ”¹æ–‡ä»¶</li>
  <li>ç”¨æˆ·è§¦å‘ <strong>Finish Edit</strong></li>
  <li>ç³»ç»Ÿå¯¹æ¯”ï¼š<code class="language-plaintext highlighter-rouge">git_current_state = git status</code></li>
  <li>è®¡ç®—å·®å¼‚ â†’ <code class="language-plaintext highlighter-rouge">edited_files</code></li>
</ol>

<p><strong>é™åˆ¶</strong>ï¼š</p>
<ul>
  <li>åªèƒ½ç¼–è¾‘å·²è¿‡æ»¤çš„æ–‡ä»¶</li>
  <li>ç¼–è¾‘å…¶ä»–æ–‡ä»¶ä¼šè¢«å¿½ç•¥</li>
  <li>ä¸èƒ½åˆ é™¤æ–‡ä»¶</li>
</ul>

<h3 id="githubé›†æˆ">GitHubé›†æˆ</h3>

<p><strong>è·å–PRåˆ—è¡¨</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Authorization: token </span><span class="nv">$GITHUB_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  https://api.github.com/repos/OWNER/REPO/pulls
</code></pre></div></div>

<p><strong>å‘å¸ƒè¯„è®º</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: token </span><span class="nv">$GITHUB_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"body": "comment content"}'</span> <span class="se">\</span>
  https://api.github.com/repos/OWNER/REPO/issues/PR_NUMBER/comments
</code></pre></div></div>

<h3 id="dockerç®¡ç†">Dockerç®¡ç†</h3>

<p><strong>æ„å»º</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose build <span class="nt">--no-cache</span>
</code></pre></div></div>

<p><strong>å¯åŠ¨</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose up <span class="nt">-d</span>
</code></pre></div></div>

<p><strong>åœæ­¢</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose down
</code></pre></div></div>

<p><strong>é‡å¯</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose down
docker compose up <span class="nt">-d</span>
</code></pre></div></div>

<p><strong>æ—¥å¿—</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose logs <span class="nt">--tail</span><span class="o">=</span>50
</code></pre></div></div>

<h2 id="-apiæ¥å£">ğŸ”Œ APIæ¥å£</h2>

<h3 id="get-apiprs">GET /api/prs</h3>
<p>è·å–PRåˆ—è¡¨</p>

<p><strong>å“åº”</strong>ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"prs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Add new article"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"feature-branch"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reviewed"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accepted"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="post-apiprepare_pr">POST /api/prepare_pr</h3>
<p>å‡†å¤‡å®¡æŸ¥PR</p>

<p><strong>è¯·æ±‚</strong>ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="get-apistatus">GET /api/status</h3>
<p>è·å–å½“å‰çŠ¶æ€</p>

<p><strong>å“åº”</strong>ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker_ready"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Docker is ready"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"docker_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"preview_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:4000/..."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"current_pr"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="post-apiaccept_pr">POST /api/accept_pr</h3>
<p>æ¥å—å¹¶åˆå¹¶PR</p>

<p><strong>è¯·æ±‚</strong>ï¼š</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"additional_comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LGTM!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="post-apiskip_pr">POST /api/skip_pr</h3>
<p>è·³è¿‡PR</p>

<h3 id="post-apirefresh_prs">POST /api/refresh_prs</h3>
<p>åˆ·æ–°PRåˆ—è¡¨</p>

<h3 id="post-apirestart_docker">POST /api/restart_docker</h3>
<p>é‡å¯Docker</p>

<h3 id="get-apiget_files">GET /api/get_files</h3>
<p>è·å–å¯ç¼–è¾‘æ–‡ä»¶åˆ—è¡¨</p>

<h3 id="post-apicheck_edited_files">POST /api/check_edited_files</h3>
<p>æ£€æµ‹ä¿®æ”¹çš„æ–‡ä»¶</p>

<h2 id="-gitæ“ä½œ">ğŸ™ Gitæ“ä½œ</h2>

<h3 id="åˆ†æ”¯å‘½å">åˆ†æ”¯å‘½å</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>review-pr-{PR_NUMBER}
</code></pre></div></div>

<h3 id="åˆå¹¶ç­–ç•¥">åˆå¹¶ç­–ç•¥</h3>
<ol>
  <li><strong>ä¸´æ—¶åˆ†æ”¯</strong>ï¼šstandard mergeï¼ˆå¯èƒ½æœ‰merge commitï¼‰</li>
  <li><strong>mainåˆ†æ”¯</strong>ï¼šfast-forward onlyï¼ˆä¿æŒçº¿æ€§å†å²ï¼‰</li>
</ol>

<h3 id="å†²çªå¤„ç†">å†²çªå¤„ç†</h3>
<p>å¦‚æœæ£€æµ‹åˆ°å†²çªï¼š</p>
<ul>
  <li>çŠ¶æ€è®¾ç½®ä¸º <code class="language-plaintext highlighter-rouge">conflict</code></li>
  <li>æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</li>
  <li>è‡ªåŠ¨æ¸…ç†ç¯å¢ƒ</li>
  <li>PRä¸ä¼šè¢«åˆå¹¶</li>
</ul>

<h3 id="æ¸…ç†æœºåˆ¶">æ¸…ç†æœºåˆ¶</h3>

<p><strong>æ­£å¸¸æ¸…ç†</strong>ï¼ˆæ¥å—/è·³è¿‡åï¼‰ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset <span class="nt">--hard</span>
git checkout main
git branch <span class="nt">-D</span> review-pr-X
docker compose down
</code></pre></div></div>

<p><strong>Ctrl+Cæ¸…ç†</strong>ï¼ˆä¿¡å·å¤„ç†ï¼‰ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># start.shå’Œpr_review_server.pyéƒ½å®ç°äº†</span>
<span class="nb">trap </span>cleanup SIGINT SIGTERM

cleanup<span class="o">()</span> <span class="o">{</span>
  <span class="nv">current_branch</span><span class="o">=</span><span class="si">$(</span>git branch <span class="nt">--show-current</span><span class="si">)</span>
  <span class="k">if</span> <span class="o">[[</span> <span class="nv">$current_branch</span> <span class="o">==</span> review-pr-<span class="k">*</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
    </span>git reset <span class="nt">--hard</span>
    git checkout main
    git branch <span class="nt">-D</span> <span class="nv">$current_branch</span>
  <span class="k">fi
  </span>docker compose down
<span class="o">}</span>
</code></pre></div></div>

<h2 id="-dockerç®¡ç†">ğŸ³ Dockerç®¡ç†</h2>

<h3 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Dockerfile</code>ï¼šJekyllç¯å¢ƒ</li>
  <li><code class="language-plaintext highlighter-rouge">docker-compose.yml</code>ï¼šå®¹å™¨ç¼–æ’</li>
</ul>

<h3 id="é¢„è§ˆurl">é¢„è§ˆURL</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:4000/CS163-Projects-2025Fall/
</code></pre></div></div>

<h3 id="å¸¸è§é—®é¢˜">å¸¸è§é—®é¢˜</h3>

<p><strong>ç«¯å£å†²çª</strong>ï¼š</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># docker-compose.yml</span>
<span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">4001:4000"</span>  <span class="c1"># æ”¹ä¸ºå…¶ä»–ç«¯å£</span>
</code></pre></div></div>

<p><strong>ä¾èµ–ç¼ºå¤±</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose build <span class="nt">--no-cache</span>
</code></pre></div></div>

<p><strong>å®¹å™¨æœªå¯åŠ¨</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose logs
</code></pre></div></div>

<h2 id="-æ•…éšœæ’é™¤">ğŸ”§ æ•…éšœæ’é™¤</h2>

<h3 id="flaskå¯åŠ¨å¤±è´¥">Flaskå¯åŠ¨å¤±è´¥</h3>

<p><strong>ç—‡çŠ¶</strong>ï¼š<code class="language-plaintext highlighter-rouge">ModuleNotFoundError: No module named 'flask'</code></p>

<p><strong>è§£å†³</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>flask
<span class="c"># æˆ–</span>
conda <span class="nb">install </span>flask
</code></pre></div></div>

<h3 id="gitå†²çª">Gitå†²çª</h3>

<p><strong>ç—‡çŠ¶</strong>ï¼šçŠ¶æ€æ˜¾ç¤º <code class="language-plaintext highlighter-rouge">conflict</code></p>

<p><strong>æ‰‹åŠ¨è§£å†³</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. æŸ¥çœ‹å†²çª</span>
git status

<span class="c"># 2. è§£å†³å†²çªæ–‡ä»¶</span>
<span class="c"># ç¼–è¾‘æ–‡ä»¶ï¼Œç§»é™¤å†²çªæ ‡è®°</span>

<span class="c"># 3. æ ‡è®°ä¸ºå·²è§£å†³</span>
git add &lt;resolved_files&gt;
git commit

<span class="c"># 4. ç»§ç»­å®¡æŸ¥</span>
</code></pre></div></div>

<h3 id="dockerä¸å¯åŠ¨">Dockerä¸å¯åŠ¨</h3>

<p><strong>ç—‡çŠ¶</strong>ï¼šé¢„è§ˆé“¾æ¥ä¸å¯ç”¨</p>

<p><strong>æ£€æŸ¥</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Dockeræ˜¯å¦è¿è¡Œ</span>
docker info

<span class="c"># å®¹å™¨çŠ¶æ€</span>
docker compose ps

<span class="c"># å®¹å™¨æ—¥å¿—</span>
docker compose logs

<span class="c"># é‡æ–°æ„å»º</span>
docker compose build <span class="nt">--no-cache</span>
docker compose up <span class="nt">-d</span>
</code></pre></div></div>

<h3 id="ç«¯å£å ç”¨">ç«¯å£å ç”¨</h3>

<p><strong>ç—‡çŠ¶</strong>ï¼š<code class="language-plaintext highlighter-rouge">Address already in use</code></p>

<p><strong>Flaskç«¯å£</strong>ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># pr_review_server.py, line ~690
</span><span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s">'0.0.0.0'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5002</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>Dockerç«¯å£</strong>ï¼š</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># docker-compose.yml</span>
<span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">4001:4000"</span>
</code></pre></div></div>

<h3 id="ä¸´æ—¶åˆ†æ”¯æ®‹ç•™">ä¸´æ—¶åˆ†æ”¯æ®‹ç•™</h3>

<p><strong>ç—‡çŠ¶</strong>ï¼šå¤šä¸ª <code class="language-plaintext highlighter-rouge">review-pr-*</code> åˆ†æ”¯</p>

<p><strong>æ¸…ç†</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># åˆ—å‡ºæ‰€æœ‰reviewåˆ†æ”¯</span>
git branch | <span class="nb">grep </span>review-pr

<span class="c"># æ‰¹é‡åˆ é™¤</span>
git branch | <span class="nb">grep </span>review-pr | xargs git branch <span class="nt">-D</span>

<span class="c"># æˆ–å•ç‹¬åˆ é™¤</span>
git branch <span class="nt">-D</span> review-pr-42
</code></pre></div></div>

<h3 id="github-tokené—®é¢˜">GitHub Tokené—®é¢˜</h3>

<p><strong>ç—‡çŠ¶</strong>ï¼šæ— æ³•è·å–PRæˆ–å‘å¸ƒè¯„è®º</p>

<p><strong>æ£€æŸ¥</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Tokenæ˜¯å¦è®¾ç½®</span>
<span class="nb">echo</span> <span class="nv">$GITHUB_TOKEN</span>

<span class="c"># Tokenæƒé™</span>
<span class="c"># éœ€è¦: repo (full access)</span>
</code></pre></div></div>

<p><strong>è®¾ç½®</strong>ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ä¸´æ—¶è®¾ç½®</span>
<span class="nb">export </span><span class="nv">GITHUB_TOKEN</span><span class="o">=</span><span class="s2">"ghp_xxxxxxxxxxxx"</span>

<span class="c"># æ°¸ä¹…è®¾ç½®ï¼ˆ~/.zshrcæˆ–~/.bashrcï¼‰</span>
<span class="nb">echo</span> <span class="s1">'export GITHUB_TOKEN="ghp_xxxxxxxxxxxx"'</span> <span class="o">&gt;&gt;</span> ~/.zshrc
<span class="nb">source</span> ~/.zshrc
</code></pre></div></div>

<h2 id="-å®‰å…¨æœ€ä½³å®è·µ">ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ</h2>

<ol>
  <li><strong>Tokenå®‰å…¨</strong>ï¼šä¸è¦æäº¤åˆ°Git</li>
  <li><strong>æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šä¸è‡ªåŠ¨push</li>
  <li><strong>åˆ†æ”¯éš”ç¦»</strong>ï¼šä¸´æ—¶åˆ†æ”¯æ“ä½œ</li>
  <li><strong>è‡ªåŠ¨æ¸…ç†</strong>ï¼šé˜²æ­¢çŠ¶æ€æ±¡æŸ“</li>
  <li><strong>æ–‡ä»¶è¿‡æ»¤</strong>ï¼šé˜²æ­¢æ„å¤–ä¿®æ”¹</li>
</ol>

<h2 id="-ç›‘æ§å’Œæ—¥å¿—">ğŸ“Š ç›‘æ§å’Œæ—¥å¿—</h2>

<h3 id="ç³»ç»ŸçŠ¶æ€">ç³»ç»ŸçŠ¶æ€</h3>
<p>åœ¨Webç•Œé¢å³ä¸Šè§’æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯</p>

<h3 id="gitæ—¥å¿—">Gitæ—¥å¿—</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log <span class="nt">--oneline</span> <span class="nt">--graph</span> <span class="nt">-10</span>
</code></pre></div></div>

<h3 id="dockeræ—¥å¿—">Dockeræ—¥å¿—</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker compose logs <span class="nt">--tail</span><span class="o">=</span>100 <span class="nt">-f</span>
</code></pre></div></div>

<h3 id="flaskæ—¥å¿—">Flaskæ—¥å¿—</h3>
<p>ç»ˆç«¯è¾“å‡ºæ˜¾ç¤ºæ‰€æœ‰HTTPè¯·æ±‚</p>

<h2 id="-é«˜çº§æŠ€å·§">ğŸ’¡ é«˜çº§æŠ€å·§</h2>

<h3 id="æ‰¹é‡å¤„ç†">æ‰¹é‡å¤„ç†</h3>
<p>ä¾æ¬¡é€‰æ‹©ã€å®¡æŸ¥ã€æ¥å—å¤šä¸ªPR</p>

<h3 id="å¿«é€Ÿç¼–è¾‘">å¿«é€Ÿç¼–è¾‘</h3>
<p>ä½¿ç”¨VS Codeçš„æ–‡ä»¶ç›‘æ§å®æ—¶æŸ¥çœ‹æ•ˆæœ</p>

<h3 id="è‡ªå®šä¹‰è¿‡æ»¤">è‡ªå®šä¹‰è¿‡æ»¤</h3>
<p>ä¿®æ”¹ <code class="language-plaintext highlighter-rouge">ALLOWED_DIRS</code> å˜é‡</p>

<h3 id="è‡ªåŠ¨åŒ–æµ‹è¯•">è‡ªåŠ¨åŒ–æµ‹è¯•</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æµ‹è¯•Docker build</span>
docker compose build

<span class="c"># æµ‹è¯•Jekyll</span>
docker compose run <span class="nt">--rm</span> site jekyll build
</code></pre></div></div>

<h2 id="-å‚è€ƒèµ„æ–™">ğŸ“š å‚è€ƒèµ„æ–™</h2>

<ul>
  <li><strong>Jekyllæ–‡æ¡£</strong>ï¼šhttps://jekyllrb.com/docs/</li>
  <li><strong>GitHub API</strong>ï¼šhttps://docs.github.com/en/rest</li>
  <li><strong>Flaskæ–‡æ¡£</strong>ï¼šhttps://flask.palletsprojects.com/</li>
  <li><strong>Docker Compose</strong>ï¼šhttps://docs.docker.com/compose/</li>
</ul>

<hr />

<p><strong>ç»´æŠ¤è€…</strong>ï¼šCS163-Projects-2025Fall Team<br />
<strong>ç‰ˆæœ¬</strong>ï¼š2.0<br />
<strong>æœ€åæ›´æ–°</strong>ï¼š2025-12-14</p>

      </div>
    </main>

    <div style="clear: both;" />
<footer class="site-footer">
    2024 &copy; by UCLAdeepvision. All Rights Reserved. Built by <a href="https://jekyllrb.com/"
        target="_blank">Jekyll</a>

    <!-- <p>
        <a href="/CS163-Projects-2025Fall/feed.xml" target="_blank">
            <img src="/CS163-Projects-2025Fall/assets/images/logo_rss.png" />
        </a>
        <a href="https://scholar.google.com/citations?user=dCa-pW8AAAAJ&hl=en&oi=ao" target="_blank">
            <img src="/CS163-Projects-2025Fall/assets/images/logo_scholar.png" />
        </a>
        <a href="https://github.com/lilianweng" target="_blank">
            <img src="/CS163-Projects-2025Fall/assets/images/logo_github.png" />
        </a>
    </p> -->
</footer>

  </body>

</html>
